# 怎么生成SSH Key



### 第一步：在本地机器上生成SSH密钥对

1. 打开您的本地终端。

2. 输入以下命令来生成一个新的SSH密钥对：

   ```
   bashCopy code
   ssh-keygen -t rsa -b 4096
   ```

   按照提示操作，可以设置一个密码保护您的私钥，也可以不设置直接按回车。默认情况下，这将在

   ```
   ~/.ssh
   ```

   目录下生成两个文件：

   ```
   id_rsa
   ```

   （私钥）和

   ```
   id_rsa.pub
   ```

   （公钥）。

### 第二步：将公钥添加到服务器

1. 使用

   ```
   ssh-copy-id
   ```

   命令将您的公钥添加到服务器上的

   ```
   ~/.ssh/authorized_keys
   ```

   文件中。替换以下命令中的

   ```
   user
   ```

   和

   ```
   server_ip
   ```

   为您自己的用户名和服务器IP地址：

   ```
   bashCopy code
   ssh-copy-id mmc@216.232.48.211
   ```

   如果您的系统不支持

   ```
   ssh-copy-id
   ```

   命令，或者您希望手动完成这一步骤，请按照之前提供的手动方法操作。

### 第三步：使用SSH私钥文件登录服务器

现在，您可以尝试使用SSH密钥来登录服务器，而无需密码。如果您没有更改密钥的保存位置或名称，您可以直接使用`ssh`命令。系统会自动查找默认位置的私钥：

```
bashCopy code
ssh mmc@216.232.48.211
```

如果您为生成的密钥设置了密码，系统将提示您输入该密码。如果您在生成密钥时选择了不同的文件名或保存位置，您可能需要使用`-i`选项指定私钥文件的路径：

```
bashCopy code
ssh -i /path/to/your/private/key mmc@216.232.48.211
```

### 注意事项

- 确保您的服务器上的`~/.ssh`目录和`~/.ssh/authorized_keys`文件的权限设置正确。通常，目录应该是`700`（只有所有者有权限读写执行），`authorized_keys`文件应该是`600`（只有所有者有读写权限）。
- 安全起见，定期更换SSH密钥，并且保护好您的私钥，不要泄露给他人。
- 如果您遇到权限问题或无法登录，请检查服务器上的`/etc/ssh/sshd_config`文件，确保配置允许使用密钥认证。